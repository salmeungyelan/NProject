{"version":3,"file":"static/js/819.72fc862e.chunk.js","mappings":"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","sources":["pages/VisitExperience/index.styles.js","pages/VisitExperience/index.js"],"sourcesContent":["import styled from 'styled-components';\nimport { bodyContainer, flexCenter, flexColumn } from 'styles/common';\n\nexport const Body = styled.div`\n\t${bodyContainer}\n\t${flexColumn}\n  gap: 32px;\n`;\n\nexport const Content = styled.div`\n\twidth: 100%;\n\theight: 511px;\n\ttext-align: center;\n\t${flexCenter}\n\n\t> span {\n\t\tfont-size: ${({ theme }) => theme.FONT_SIZE.ml};\n\t\tcolor: ${({ theme }) => theme.PALETTE.gray[400]};\n\t}\n`;\n\nexport const ApplyBtnBox = styled.div`\n\twidth: 100%;\n\t${flexCenter}\n\tposition: fixed;\n\theight: 56px;\n\tbackground-color: ${({ theme }) => theme.PALETTE.white[100]};\n\tbottom: ${({ $moreBtn }) => ($moreBtn ? '131px' : '66px')};\n\tbox-shadow: 0 -2px 4px 0 rgba(0, 0, 0, 0.08);\n\tz-index: 3;\n\n\t> div {\n\t\twidth: 294px;\n\t\t${flexCenter}\n\t\tgap: 12px;\n\t}\n\n\t@media screen and (min-width: 768px) {\n\t\theight: 72px;\n\t\tpadding: 20px 100px;\n\t\tbottom: 0;\n\t\tz-index: 23;\n\n\t\t> div {\n\t\t\tjustify-content: right;\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t& button {\n\t\t\twidth: 190px;\n\t\t}\n\t}\n`;\n","import { useEffect, useMemo, useState } from 'react';\nimport { useRecoilState } from 'recoil';\n\nimport useFilter from 'hooks/useFilter';\nimport useModal from 'hooks/useModal';\nimport usePagination from 'hooks/usePagination';\nimport useApi from 'hooks/useApi';\nimport { otherTabsState } from 'recoil/atom/otherTabs.atom';\nimport decodeJWT from 'utils/token';\n\nimport * as S from './index.styles';\n\nimport Title from 'components/@common/Title';\nimport OtherList from 'components/pages/OtherTabs/OtherList';\nimport ApplicationModal from 'components/pages/OtherTabs/ApplicationModal';\nimport Button from 'components/@common/Button';\nimport Pagination from 'components/@common/Pagination';\n\nfunction VisitExperience() {\n\tconst { sort, handelSelectFilter } = useFilter();\n\tconst { modalState, openModal, closeModal } = useModal();\n\n\tconst [otherList, setOtherList] = useState([]);\n\tconst [checkHistory, setCheckHistory] = useState(false);\n\n\tconst [selectedStatus, setSelectedStatus] = useState([\n\t\t{\n\t\t\tcodeLabel: '전체',\n\t\t\tsortBy: '',\n\t\t},\n\t]);\n\n\tconst itemsPerPage = 8;\n\tconst { currentPage, setCurrentPage, total, setTotal } = usePagination();\n\n\tconst paths = useMemo(() => {\n\t\tconst basePath = `/client/visit-experiences?page=${currentPage}&size=${itemsPerPage}&sortBy=${sort}`;\n\t\tconst status =\n\t\t\tselectedStatus[0].sortBy &&\n\t\t\tselectedStatus.map(stat => `&status=${stat.sortBy}`).join('');\n\n\t\treturn { basePath, status };\n\t}, [currentPage, sort, selectedStatus]);\n\n\tconst { basePath, status } = paths;\n\n\tconst { result, trigger } = useApi({\n\t\tpath: basePath,\n\t\tshouldFetch: true,\n\t});\n\n\tconst decodedPayload = decodeJWT('accessToken');\n\tconst { sub } = decodedPayload;\n\n\tconst [applyData, setApplyData] = useRecoilState(otherTabsState);\n\n\tconst { result: userResult } = useApi({\n\t\tpath: `/users/${sub}`,\n\t\tshouldFetch: true,\n\t});\n\n\tuseEffect(() => {\n\t\tif (userResult.data) {\n\t\t\tsetApplyData(userResult.data);\n\t\t}\n\n\t\tif (result.data) {\n\t\t\tsetOtherList(result.data.visitExperiences);\n\t\t\tsetTotal(result.data.total);\n\t\t}\n\t}, [result.data, userResult.data]);\n\n\tuseEffect(() => {\n\t\ttrigger({ path: basePath + status, applyResult: true });\n\t}, [selectedStatus, sort, currentPage]);\n\n\tuseEffect(() => {\n\t\tsetCurrentPage(1);\n\t}, [selectedStatus]);\n\n\t// 제안서 & 리스트\n\tconst handleSuggestBtn = () => {\n\t\tsetCheckHistory(prev => !prev);\n\t};\n\n\t// 신청 모달 띄우기\n\tconst handleOpenModal = () => {\n\t\topenModal();\n\t};\n\n\t// 페이지 변경\n\tconst handlePageChange = async pageNumber => {\n\t\tsetCurrentPage(pageNumber);\n\t\tawait trigger({ applyResult: true });\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{modalState && (\n\t\t\t\t<ApplicationModal\n\t\t\t\t\tonClose={closeModal}\n\t\t\t\t\ttitle=\"체험단\"\n\t\t\t\t\tlistTrigger={trigger}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t<S.Body>\n\t\t\t\t<Title title=\"REVIEW TEAM\">체험단을 신청할 수 있습니다.</Title>\n\n\t\t\t\t{/* 첫 렌더링 시 */}\n\t\t\t\t{!checkHistory && (\n\t\t\t\t\t<S.Content>\n\t\t\t\t\t\t<span>제안서</span>\n\t\t\t\t\t</S.Content>\n\t\t\t\t)}\n\n\t\t\t\t{checkHistory && (\n\t\t\t\t\t<OtherList\n\t\t\t\t\t\ttitle=\"체험단\"\n\t\t\t\t\t\tsort={sort}\n\t\t\t\t\t\totherList={otherList}\n\t\t\t\t\t\tselectedStatus={selectedStatus}\n\t\t\t\t\t\tsetSelectedStatus={setSelectedStatus}\n\t\t\t\t\t\tonSelect={handelSelectFilter}\n\t\t\t\t\t\tlistTrigger={trigger}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{/* 페이지네이션 */}\n\t\t\t\t{checkHistory &&\n\t\t\t\t\t(otherList?.length ? (\n\t\t\t\t\t\t<Pagination\n\t\t\t\t\t\t\ttotalItems={total}\n\t\t\t\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\t\t\tonPageChange={handlePageChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<></>\n\t\t\t\t\t))}\n\t\t\t</S.Body>\n\n\t\t\t<S.ApplyBtnBox>\n\t\t\t\t<div>\n\t\t\t\t\t<Button size=\"height\" variant=\"white\" onClick={handleSuggestBtn}>\n\t\t\t\t\t\t{checkHistory ? '제안서 보기' : '이용 내역 확인'}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button size=\"height\" variant=\"default\" onClick={handleOpenModal}>\n\t\t\t\t\t\t체험단 신청하기\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</S.ApplyBtnBox>\n\t\t</>\n\t);\n}\n\nexport default VisitExperience;\n"],"names":["Body","styled","div","_templateObject","_taggedTemplateLiteral","bodyContainer","flexColumn","Content","_templateObject2","flexCenter","_ref","theme","FONT_SIZE","ml","_ref2","PALETTE","gray","ApplyBtnBox","_templateObject3","_ref3","white","_ref4","$moreBtn","sort","handelSelectFilter","useFilter","modalState","openModal","closeModal","useModal","otherList","setOtherList","useState","checkHistory","setCheckHistory","selectedStatus","setSelectedStatus","codeLabel","sortBy","currentPage","setCurrentPage","total","setTotal","usePagination","paths","useMemo","basePath","concat","status","map","stat","join","result","trigger","useApi","path","shouldFetch","decodedPayload","decodeJWT","sub","applyData","setApplyData","useRecoilState","otherTabsState","userResult","useEffect","data","visitExperiences","applyResult","_jsxs","_Fragment","children","_jsx","ApplicationModal","onClose","title","listTrigger","S","Title","OtherList","onSelect","length","Pagination","totalItems","itemsPerPage","onPageChange","async","pageNumber","Button","size","variant","onClick","handleSuggestBtn","prev","handleOpenModal"],"sourceRoot":""}